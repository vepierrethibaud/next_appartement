{"version":3,"file":"static/webpack/static/development/pages/index.js.76269b0a1bb305e89201.hot-update.js","sources":["webpack:///./components/Content.js"],"sourcesContent":["import React, { Component } from 'react'\nimport AppartementList from './AppartementList'\nimport Searchbar from './SearchBar'\nimport { config } from './config'\n\nimport \"../css/style.css\";\n\nclass App extends Component {\n  state = {\n    showAll: false,\n    searchValue: '',\n    isLoading: false,\n    appartements: [],\n    favorites: [],\n  }\n  \n  async componentWillMount() {\n    this.setState({\n      isLoading: true\n    })\n    const apiUrl = config.apiUrl\n    const req = await fetch(apiUrl)\n    const appartements = await req.json()\n    this.setState({\n      isLoading: false,\n      appartements\n    })\n  }\n  toggleShow = () => {\n    this.setState({\n      showAll: !this.state.showAll\n    })\n  }\n  handleInputText = e => {\n    this.setState({\n      searchValue: e.target.value\n    })\n  }\n  toggleFavorite = (e, id) => {\n    const favs = this.state.favorites\n    if (favs.includes(id)) {\n      const index = favs.indexOf(id)\n      favs.splice(index, 1)\n      this.setState({\n        favorites: favs\n      })\n    } else {\n      favs.push(id)\n      this.setState({\n        favorites: favs\n      })\n    }\n  }\n  render () {\n    const { showAll, searchValue, isLoading, appartements, favorites } = this.state\n\n    const filteredAppartements = appartements.filter(el => el.title.rendered.toLowerCase().includes(searchValue))\n    const availableAppartements = showAll ? filteredAppartements : filteredAppartements.filter(el => {\n      if (el.acf.available) {\n        return el\n      } else {\n        return false\n      }\n    })\n    return (\n      <div>\n       <h1>Liste des appartements</h1>\n        <button onClick={this.toggleShow}>\n          {showAll ? 'Show only available' : 'ShowAll'}\n        </button><br/>\n        <Searchbar\n          searchValue={searchValue}\n          handleInputText={this.handleInputText}\n          found={availableAppartements.length}\n          total={appartements.length}\n          />\n        {isLoading ?\n          <p>Loading ...</p>\n          :\n          <AppartementList\n            appartements={availableAppartements}\n            favorites={favorites}\n            toggleFav={this.toggleFavorite}\n          />\n        }\n      </div>\n    )\n  }\n}\n\nexport default App"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAmBA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;;;;;;;;;;;;;;;AApCA;AACA;AADA;AAGA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AACA;AACA;AAFA;AACA;;;;;;;;;;;;;;;;;AA6BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAIA;AACA;AACA;AACA;AAJA;AAUA;AACA;AACA;AAHA;AAQA;;;;AAhFA;AACA;AAkFA;;;;A","sourceRoot":""}