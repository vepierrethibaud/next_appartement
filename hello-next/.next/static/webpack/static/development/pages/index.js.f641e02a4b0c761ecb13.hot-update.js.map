{"version":3,"file":"static/webpack/static/development/pages/index.js.f641e02a4b0c761ecb13.hot-update.js","sources":["webpack:///./components/Appartement.js","webpack:///./components/AppartementList.js","webpack:///./components/Content.js","webpack:///./components/SearchBar.js","webpack:///./components/config.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/typeof.js","webpack:///./pages/index.js"],"sourcesContent":["import React from 'react'\nimport { object, array, func } from 'prop-types'\n\n// const Appartement = () => (\n//   <div>\n//     <p>Appartement.js</p>\n//   </div>\n// );\n\nconst Appartement = ({appartement: {id, title, acf}, favorites, toggleFav}) => (\n  <div>\n    <img src={acf.image} alt=\"lol\"/>\n    <h1>\n      <svg height=\"20\" width=\"20\">\n        <circle cx=\"10\" cy=\"10\" r=\"10\" fill={acf.available ? 'green' : 'red'} />\n      </svg>\n      {title.rendered}\n      {favorites.includes(id) && '❤️'}\n    </h1>\n\n    <button onClick={e => toggleFav(e, id)}>\n      {favorites.includes(id) ? 'Remove favorite' : 'Set favorite'}\n    </button>\n\n    <p>${acf.price} per night</p>\n    <p>{new Array(parseInt(acf.rating)).fill('⭐️️️️️')}</p>\n  </div>\n)\n\nexport default Appartement;\n\nAppartement.propTypes = {\n  appartement: object.isRequired,\n  favorites: array.isRequired,\n  toggleFav: func.isRequired\n}","import React from 'react';\nimport Appartement from './Appartement';\nimport { array, func } from 'prop-types';\n\n// const AppartementList = () => (\n//   <div>\n//     <p>AppartementList.js</p>\n//   </div>\n// );\n\nconst AppartementList = ({ appartements, favorites, toggleFav }) => (\n  <div>\n    {appartements.map(el =>\n      <Appartement\n        key={el.id}\n        appartement={el}\n        favorites={favorites}\n        toggleFav={toggleFav}\n      />\n    )}\n  </div>\n)\n\nexport default AppartementList\n\nAppartementList.propTypes = {\n  appartments: array.isRequired,\n  favorites: array.isRequired,\n  toggleFav: func.isRequired\n}\n\n\n\n\n\n","import React, { Component } from 'react'\nimport AppartementList from './AppartementList'\nimport Searchbar from './SearchBar'\nimport { config } from './config'\n\nimport \"../css/style.css\";\n\nclass App extends Component {\n  state = {\n    showAll: false,\n    searchValue: '',\n    isLoading: false,\n    appartements: [],\n    favorites: [],\n  }\n  \n  async componentWillMount() {\n    this.setState({\n      isLoading: true\n    })\n    const apiUrl = config.apiUrl\n    const req = await fetch(apiUrl)\n    const appartements = await req.json()\n    this.setState({\n      isLoading: false,\n      appartements\n    })\n  }\n  toggleShow = () => {\n    this.setState({\n      showAll: !this.state.showAll\n    })\n  }\n  handleInputText = e => {\n    this.setState({\n      searchValue: e.target.value\n    })\n  }\n  toggleFavorite = (e, id) => {\n    const favs = this.state.favorites\n    if (favs.includes(id)) {\n      const index = favs.indexOf(id)\n      favs.splice(index, 1)\n      this.setState({\n        favorites: favs\n      })\n    } else {\n      favs.push(id)\n      this.setState({\n        favorites: favs\n      })\n    }\n  }\n  render () {\n    const { showAll, searchValue, isLoading, appartements, favorites } = this.state\n\n    const filteredAppartements = appartements.filter(el => el.title.rendered.toLowerCase().includes(searchValue))\n    const availableAppartements = showAll ? filteredAppartements : filteredAppartements.filter(el => {\n      if (el.acf.available) {\n        return el\n      } else {\n        return false\n      }\n    })\n    return (\n      <div>\n        Apartment List<br/>\n        <button onClick={this.toggleShow}>\n          {showAll ? 'Show only available' : 'ShowAll'}\n        </button><br/>\n        <Searchbar\n          searchValue={searchValue}\n          handleInputText={this.handleInputText}\n          found={availableAppartements.length}\n          total={appartements.length}\n          />\n        {isLoading ?\n          <p>Loading ...</p>\n          :\n          <AppartementList\n            appartements={availableAppartements}\n            favorites={favorites}\n            toggleFav={this.toggleFavorite}\n          />\n        }\n      </div>\n    )\n  }\n}\n\nexport default App","import React from 'react'\nimport { string, func, number } from 'prop-types'\n\nconst SearchBar = ({searchValue, handleInputText, found, total}) => (\n  <div>\n    <input type=\"text\" onChange={handleInputText}/>\n    {found ?\n     <p>Found {found} out of {total}</p>\n     :\n     <p>No appartment found</p>\n    }\n  </div>\n)\n\nexport default SearchBar\n\nSearchBar.propTypes = {\n  searchValue: string.isRequired,\n  handleInputText: func.isRequired,\n  found: number.isRequired,\n  total: number.isRequired,\n}","export const config = {\n    apiUrl: \"http://apirl.xyz/wp-json/wp/v2/appartments?_fields=id,title,slug,acf\"\n  }","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import _Object$defineProperty from \"../../core-js/object/define-property\";\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n\n    _Object$defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import _Object$getPrototypeOf from \"../../core-js/object/get-prototype-of\";\nimport _Object$setPrototypeOf from \"../../core-js/object/set-prototype-of\";\nexport default function _getPrototypeOf(o) {\n  _getPrototypeOf = _Object$setPrototypeOf ? _Object$getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || _Object$getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _Object$create from \"../../core-js/object/create\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import _Object$setPrototypeOf from \"../../core-js/object/set-prototype-of\";\nexport default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = _Object$setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import _Symbol$iterator from \"../../core-js/symbol/iterator\";\nimport _Symbol from \"../../core-js/symbol\";\n\nfunction _typeof2(obj) { if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof _Symbol === \"function\" && _typeof2(_Symbol$iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import Layout from '../components/MyLayout.js';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport Content from '../components/Content.js'\nimport \"../css/style.css\"\n\nconst Index = props => (\n\n  <Layout>\n\n    <Content />\n    {/* <h1>Liste des appartements</h1>\n\n    <section>\n      {props.data.map(el => (\n        <article key={el.id}>\n          <img className=\"img_grid\" src={el.acf.image} />\n          <div className=\"desc\">\n            <Link as={`/appartement/${el.slug}`} href={`/post?id=${el.id}`}>\n              <a className=\"titre\">{el.title.rendered}</a>\n            </Link>\n            <div className=\"line\"></div>\n\n            <p className=\"price\">${el.acf.price} per night</p>\n            <p className=\"rating\">{new Array(parseInt(el.acf.rating)).fill('⭐️️️️️')}</p>\n            <p>{el.acf.available}</p>\n          </div>\n        </article>\n      ))}\n    </section>   */}\n  </Layout>\n\n);\n\nIndex.getInitialProps = async function() {\n  const res = await fetch('http://apirl.xyz/wp-json/wp/v2/appartments?_fields=id,title,slug,acf');\n  const data = await res.json();\n\n  console.log(`Show data fetched. Count: ${data.length}`);\n\n  return {data};\n};\n\nexport default Index;"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAXA;AACA;AAmBA;AAEA;AACA;AACA;AACA;AAHA;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAJA;AADA;AAFA;AACA;AAYA;AAEA;AACA;AACA;AACA;AAHA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAmBA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;;;;;;;;;;;;;;;AApCA;AACA;AADA;AAGA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AACA;AACA;AAFA;AACA;;;;;;;;;;;;;;;;;AA6BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAIA;AACA;AACA;AACA;AAJA;AAUA;AACA;AACA;AAHA;AAQA;;;;AAhFA;AACA;AAkFA;;;;;;;;;;;;AC1FA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAFA;AACA;AAUA;AAEA;AACA;AACA;AACA;AACA;AAJA;;;;;;;;;;;;AChBA;AAAA;AAAA;AACA;AADA;;;;;;;;;;;;ACAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AA2BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAEA;AAJA;AAMA;AAAA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;A","sourceRoot":""}